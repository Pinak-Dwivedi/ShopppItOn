"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[988],{8897:function(e,t,i){i.d(t,{Z:function(){return s}});var n=i(9439),r=i(1087),a=i(184);function s(e){var t,i,s,c,o=e.paginationDetails,l=e.onPrevPage,d=e.onNextPage,u=e.onPageNum,v=(0,r.lr)(),_=(0,n.Z)(v,1)[0],m=isNaN(parseInt(_.get("page")))?1:parseInt(_.get("page"));if(null!=o){t=null===o||void 0===o?void 0:o.totalItems,i=null===o||void 0===o?void 0:o.itemsPerPage,s=[],c=Math.ceil(t/i);for(var p=function(e){s.push((0,a.jsx)("div",{className:"pagination__numberButtons ".concat(m===e?"active":""),onClick:function(){u(e)},children:e},e))},g=1;g<=c;g++)p(g)}return null!=(null===o||void 0===o?void 0:o.pageNum)?(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("button",{className:"pagination__previousButton",onClick:function(){var e=m;1!==m&&(--e,l(e))},disabled:1===m,children:"<"}),s,(0,a.jsx)("button",{className:"pagination__nextButton",onClick:function(){var e=m;m!==c&&(++e,d(e))},disabled:m===c,children:">"})]}):""}},7988:function(e,t,i){i.r(t),i.d(t,{default:function(){return N}});var n=i(9439),r=i(2791),a=i(7689),s=i(9434),c=i(2953),o=i(4448),l=i(6355),d=i(3402),u=i(8303),v=i(184);function _(e){var t=e.reviewDetails,i=[];if(null!=t)for(var n=0;n<t.reviewRating;n++)i.push((0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"},n+1));return(0,v.jsxs)("div",{className:"reviewUser",children:[(0,v.jsx)("div",{className:"reviewUser__imageBox",children:(0,v.jsx)("img",{src:null===t||void 0===t?void 0:t.reviewUserProfileImage,alt:"user",className:"reviewUser__image"})}),(0,v.jsxs)("div",{className:"reviewUser__info",children:[(0,v.jsx)("div",{className:"reviewUser__name",children:null===t||void 0===t?void 0:t.reviewUserName}),(0,v.jsx)("div",{className:"reviewUser__rating",children:i}),(0,v.jsx)("div",{className:"reviewUser__title",children:null===t||void 0===t?void 0:t.reviewTitle}),(0,v.jsx)("div",{className:"reviewUser__description",children:null===t||void 0===t?void 0:t.reviewDescription})]})]})}var m=i(8897),p=i(1087);function g(e){var t,i,a,o=e.productId,d=(0,r.useRef)();var u=(0,r.useState)(""),g=(0,n.Z)(u,2),N=g[0],x=g[1],f=(0,r.useState)(""),j=(0,n.Z)(f,2),h=j[0],w=j[1],I=(0,r.useState)(0),S=(0,n.Z)(I,2),C=S[0],R=S[1],k=(0,s.I0)(),P=(0,s.v9)((function(e){return e.product})),B=P.reviewsDetails,b=P.validationError,D=(0,p.lr)(),J=(0,n.Z)(D,2),Q=J[0],T=J[1],U=Q.get("page");function Z(e){T((function(t){return t.set("page",e),t}),{replace:!0,state:{productId:o}})}return(0,r.useEffect)((function(){k((0,c.k5)({productId:o,query:Q.toString()}))}),[k,o,U]),(0,v.jsxs)("div",{className:"review",children:[(0,v.jsx)("button",{className:"review__toggleReviewFormButton",onClick:function(){d.current.classList.toggle("active")},children:"Give Review"}),(0,v.jsxs)("div",{ref:d,className:"review__addReviewFormConatiner",children:[(0,v.jsx)("div",{className:"review__addReviewFormHeading",children:"Give Review"}),(0,v.jsxs)("form",{className:"review__addReviewForm",onSubmit:function(e){return function(e){e.preventDefault(),k((0,c.d$)({productId:o,reviewData:{title:N,description:h,rating:C}}))}(e)},children:[(0,v.jsxs)("fieldset",{className:"review__fieldset",children:[(0,v.jsx)("legend",{className:"review__fieldsetTitle",children:"Your Rating"}),(0,v.jsxs)("div",{className:"review__ratingButtons",children:[(0,v.jsxs)("div",{className:"review__ratingButton ".concat(5===C?"active":""),onClick:function(){return R(5)},children:[(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsxs)("div",{className:"review__ratingButton ".concat(4===C?"active":""),onClick:function(){return R(4)},children:[(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsxs)("div",{className:"review__ratingButton ".concat(3===C?"active":""),onClick:function(){return R(3)},children:[(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsxs)("div",{className:"review__ratingButton ".concat(2===C?"active":""),onClick:function(){return R(2)},children:[(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsx)("div",{className:"review__ratingButton ".concat(1===C?"active":""),onClick:function(){return R(1)},children:(0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"})})]}),(0,v.jsx)("span",{className:"review__addReviewFormError",children:null===b||void 0===b?void 0:b.rating})]}),(0,v.jsxs)("fieldset",{className:"review__fieldset",children:[(0,v.jsx)("legend",{className:"review__fieldsetTitle",children:"Review Title"}),(0,v.jsx)("input",{type:"text",className:"review__ratingTitle",value:N,onChange:function(e){return x(e.target.value)},placeholder:"e.g:- Review Title"}),(0,v.jsx)("span",{className:"review__addReviewFormError",children:null===b||void 0===b?void 0:b.title})]}),(0,v.jsxs)("fieldset",{className:"review__fieldset",children:[(0,v.jsx)("legend",{className:"review__fieldsetTitle",children:"Review Description"}),(0,v.jsx)("textarea",{className:"review__ratingDescription",value:h,onChange:function(e){return w(e.target.value)},placeholder:"e.g:- Review Description"}),(0,v.jsx)("span",{className:"review__addReviewFormError",children:null===b||void 0===b?void 0:b.description})]}),(0,v.jsx)("button",{className:"review__addReviewFormButton",children:"Add Review"})]})]}),(0,v.jsx)("div",{className:"review__heading",children:"Product Reviews"}),(0,v.jsx)("div",{className:"review__list",children:null!=(null===B||void 0===B?void 0:B.reviews)?null===B||void 0===B?void 0:B.reviews.map((function(e){return(0,v.jsx)(_,{reviewDetails:e},null===e||void 0===e?void 0:e.reviewId)})):(0,v.jsx)("div",{className:"review__noReviewsYet",children:"No Reviews Yet!"})}),null!=(null===B||void 0===B?void 0:B.reviewsPagination)?(0,v.jsx)(m.Z,{paginationDetails:{pageNum:null===B||void 0===B||null===(t=B.reviewsPagination)||void 0===t?void 0:t.pageNum,totalItems:null===B||void 0===B||null===(i=B.reviewsPagination)||void 0===i?void 0:i.totalReviews,itemsPerPage:null===B||void 0===B||null===(a=B.reviewsPagination)||void 0===a?void 0:a.reviewsPerPage},onPrevPage:function(e){Z(e)},onNextPage:function(e){Z(e)},onPageNum:function(e){Z(e)}}):""]})}function N(){var e,t=(0,a.TH)().state,i=null===t||void 0===t?void 0:t.productId,_=(0,a.s0)(),m=(0,s.I0)(),p=(0,r.useState)(0),N=(0,n.Z)(p,2),x=N[0],f=N[1],j=(0,s.v9)((function(e){return e.user})),h=j.isAuthenticated,w=j.user,I=(0,s.v9)((function(e){return e.product})),S=I.productDetails,C=(0,s.v9)((function(e){return e.cart})),R=C.isLoading,k=(0,r.useState)(1),P=(0,n.Z)(k,2),B=P[0],b=P[1];(0,r.useEffect)((function(){m((0,c.hY)(i))}),[m,i]);var D,J=[],Q=null===S||void 0===S?void 0:S.productPrice;if(null!=S){e=null===S||void 0===S?void 0:S.productRating.toString().split(".");for(var T=0;T<Number(e[0]);T++)J.push((0,v.jsx)(l.QJe,{className:"product__ratingStarIcon"},T+1));Number(e[1])>0&&J.push((0,v.jsx)(l.TtB,{className:"product__ratingStarIcon"},J.length+1)),null!=(null===S||void 0===S?void 0:S.productImages)&&(D=(D=JSON.parse(null===S||void 0===S?void 0:S.productImages)).map((function(e,t){return(0,v.jsx)("img",{className:"product__image ".concat(x===t?"active":""),src:e,alt:"product"},t)})))}return(0,v.jsxs)("div",{className:"product",children:[(0,v.jsxs)("div",{className:"product__imageBox",children:[null!=D?D:"",(0,v.jsx)("button",{className:"product__changeImageButton product__prevImageButton",onClick:function(){f((function(e){return 0===e?2:e-1}))},children:"<"}),(0,v.jsx)("button",{className:"product__changeImageButton product__nextImageButton",onClick:function(){f((function(e){return 2===e?0:e+1}))},children:">"})]}),(0,v.jsxs)("div",{className:"product__info",children:[(0,v.jsx)("div",{className:"product__category",children:null===S||void 0===S?void 0:S.productCategory}),(0,v.jsx)("div",{className:"product__name",children:null===S||void 0===S?void 0:S.productName}),(0,v.jsx)("div",{className:"product__price",children:(0,u.Z)(Q)}),(0,v.jsxs)("fieldset",{className:"product__fieldset",children:[(0,v.jsx)("legend",{className:"product__fieldsetTitle",children:"Rating"}),0!==J.length?J:(0,v.jsx)("div",{className:"product__noRatingsYet",children:"No Ratings Yet!"})]}),(0,v.jsxs)("fieldset",{className:"product__fieldset",children:[(0,v.jsx)("legend",{className:"product__fieldsetTitle",children:"Description"}),null===S||void 0===S?void 0:S.productDescription]}),(0,v.jsxs)("div",{className:"product__cart",children:[(0,v.jsxs)("div",{className:"product__cartCounter",children:[(0,v.jsx)("button",{className:"product__cartCountButton",onClick:function(){return b(1===B?1:B-1)},children:"-"}),(0,v.jsx)("span",{className:"product__cartCount",children:B}),(0,v.jsx)("button",{className:"product__cartCountButton",onClick:function(){var e=!1;b((function(t){return t<S.productStock?t+1:(e=!0,t)})),!0===e&&(d.Am.dismiss(),(0,d.Am)("Only ".concat(B," in stock"),{icon:"\u26a0\ufe0f"}))},children:"+"})]}),(0,v.jsx)("button",{className:"product__addToCartButton",disabled:R,onClick:function(){var e={productId:i,productName:S.productName,productImage:JSON.parse(S.productImages)[0],productPrice:Q,productStock:S.productStock,productQuantity:B,productTotalPrice:Q*B,productAddedToCartDate:Date.now(),productDeliveryDate:Date.now()+6048e5};m((0,o.RV)(e))},children:"Add To Cart"})]}),h&&"admin"===(null===w||void 0===w?void 0:w.role)?(0,v.jsx)("button",{className:"product__updateProductButton",onClick:function(){_("/updateproduct/".concat(i),{state:{productDetails:S}})},children:"Update"}):""]}),(0,v.jsx)(g,{productId:i})]})}},8303:function(e,t,i){function n(e){return new Intl.NumberFormat("hi-in",{currency:"INR",style:"currency"}).format(e)}i.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=988.983d35ef.chunk.js.map