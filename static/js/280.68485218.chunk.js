"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[280],{6280:function(e,r,i){i.r(r),i.d(r,{default:function(){return _}});var s=i(9439),n=i(8303),t=i(2791),d=i(9434),l=i(2522),a=i(184);function o(e){var r=e.orderDetails,i=(0,d.I0)(),o=(0,d.v9)((function(e){return e.user})),c=o.isAuthenticated,u=o.user,v=(0,d.v9)((function(e){return e.order})).isLoading,_=(0,t.useState)(null===r||void 0===r?void 0:r.orderStatus),m=(0,s.Z)(_,2),f=m[0],h=m[1],p=new Date(null===r||void 0===r?void 0:r.orderDate).toDateString().split(" "),N="".concat(p[0]," ").concat(p[1]," ").concat(p[2]),g=new Date(null===r||void 0===r?void 0:r.deliveryDate).toDateString().split(" "),x="".concat(g[0]," ").concat(g[1]," ").concat(g[2]),j=(null===r||void 0===r?void 0:r.orderStatus.charAt(0).toUpperCase())+(null===r||void 0===r?void 0:r.orderStatus.slice(1));return(0,a.jsxs)("div",{className:"order",children:[(0,a.jsxs)("div",{className:"order__imageAndName",children:[(0,a.jsx)("div",{className:"order__imageBox",children:(0,a.jsx)("img",{src:r.productImage,alt:"item",className:"order__image"})}),(0,a.jsx)("div",{className:"order__productName",children:null===r||void 0===r?void 0:r.productName})]}),(0,a.jsxs)("div",{className:"order__info",children:[(0,a.jsxs)("fieldset",{className:"order__fieldset",children:[(0,a.jsx)("legend",{className:"order__fieldsetTitle",children:"Price"}),(0,n.Z)(null===r||void 0===r?void 0:r.productPrice)]}),(0,a.jsxs)("fieldset",{className:"order__fieldset",children:[(0,a.jsx)("legend",{className:"order__fieldsetTitle",children:"Order Quantity"}),null===r||void 0===r?void 0:r.productQuantity]}),(0,a.jsxs)("fieldset",{className:"order__fieldset",children:[(0,a.jsx)("legend",{className:"order__fieldsetTitle",children:"Total Price"}),(0,n.Z)(null===r||void 0===r?void 0:r.productTotalPrice)]}),(0,a.jsxs)("fieldset",{className:"order__fieldset",children:[(0,a.jsx)("legend",{className:"order__fieldsetTitle",children:"Order Status"}),c&&"admin"===(null===u||void 0===u?void 0:u.role)?(0,a.jsxs)("select",{className:"order__statusSelect",value:f,onChange:function(e){return h(e.target.value)},children:[(0,a.jsx)("option",{value:"processing",className:"order__statusOption",children:"Processing"}),(0,a.jsx)("option",{value:"shipped",className:"order__statusOption",children:"Shipped"}),(0,a.jsx)("option",{value:"dispatched",className:"order__statusOption",children:"Dispatched"}),(0,a.jsx)("option",{value:"delivered",className:"order__statusOption",children:"Delivered"})]}):j]}),(0,a.jsxs)("fieldset",{className:"order__fieldset",children:[(0,a.jsx)("legend",{className:"order__fieldsetTitle",children:"Order Date"}),N]}),"delivered"!==f?(0,a.jsxs)("fieldset",{className:"order__fieldset",children:[(0,a.jsx)("legend",{className:"order__fieldsetTitle",children:"Estimated Delivery By"}),x]}):"",c&&"admin"===(null===u||void 0===u?void 0:u.role)?(0,a.jsx)("button",{className:"order__updateButton",disabled:v,onClick:function(){i((0,l.y6)({orderId:null===r||void 0===r?void 0:r.orderId,orderStatus:f}))},children:"Update"}):""]})]})}var c=i(8897),u=i(1087),v=i(7689);function _(){var e=(0,d.I0)(),r=(0,u.lr)(),i=(0,s.Z)(r,2),_=i[0],m=i[1],f=(0,d.v9)((function(e){return e.order})),h=f.orders,p=f.pagination,N=f.totalOrdersPrice,g=(0,d.v9)((function(e){return e.user})),x=g.isAuthenticated,j=g.user,P=_.get("page");if((0,t.useEffect)((function(){x&&"admin"===j.role?e((0,l.ci)(_.toString())):x&&e((0,l.f0)(_.toString()))}),[e,x,j,P]),!x)return(0,a.jsx)(v.Fg,{to:"/",replace:!0});function D(e){m((function(r){return r.set("page",e),r}),{replace:!0})}return(0,a.jsxs)("div",{className:"orders",children:["admin"===(null===j||void 0===j?void 0:j.role)?(0,a.jsx)("div",{className:"orders__heading",children:"All Orders"}):(0,a.jsx)("div",{className:"orders__heading",children:"My Orders"}),(0,a.jsxs)("div",{className:"orders__total",children:[(0,a.jsx)("div",{className:"orders__totalHeading",children:"Total Orders Price"}),(0,a.jsx)("div",{className:"orders__totalPrice",children:(0,n.Z)(N)})]}),(0,a.jsx)("div",{className:"orders__list",children:null!=h?h.map((function(e){return(0,a.jsx)(o,{orderDetails:e},e.orderId)})):(0,a.jsx)("div",{className:"orders__noOrdersFound",children:"No orders found!"})}),null!=p?(0,a.jsx)(c.Z,{paginationDetails:{pageNum:null===p||void 0===p?void 0:p.pageNum,totalItems:null===p||void 0===p?void 0:p.totalOrders,itemsPerPage:null===p||void 0===p?void 0:p.ordersPerPage},onPrevPage:function(e){D(e)},onNextPage:function(e){D(e)},onPageNum:function(e){D(e)}}):""]})}},8897:function(e,r,i){i.d(r,{Z:function(){return d}});var s=i(9439),n=i(1087),t=i(184);function d(e){var r,i,d,l,a=e.paginationDetails,o=e.onPrevPage,c=e.onNextPage,u=e.onPageNum,v=(0,n.lr)(),_=(0,s.Z)(v,1)[0],m=isNaN(parseInt(_.get("page")))?1:parseInt(_.get("page"));if(null!=a){r=null===a||void 0===a?void 0:a.totalItems,i=null===a||void 0===a?void 0:a.itemsPerPage,d=[],l=Math.ceil(r/i);for(var f=function(e){d.push((0,t.jsx)("div",{className:"pagination__numberButtons ".concat(m===e?"active":""),onClick:function(){u(e)},children:e},e))},h=1;h<=l;h++)f(h)}return null!=(null===a||void 0===a?void 0:a.pageNum)?(0,t.jsxs)("div",{className:"pagination",children:[(0,t.jsx)("button",{className:"pagination__previousButton",onClick:function(){var e=m;1!==m&&(--e,o(e))},disabled:1===m,children:"<"}),d,(0,t.jsx)("button",{className:"pagination__nextButton",onClick:function(){var e=m;m!==l&&(++e,c(e))},disabled:m===l,children:">"})]}):""}},8303:function(e,r,i){function s(e){return new Intl.NumberFormat("hi-in",{currency:"INR",style:"currency"}).format(e)}i.d(r,{Z:function(){return s}})}}]);
//# sourceMappingURL=280.68485218.chunk.js.map