"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[988],{8897:function(e,t,i){i.d(t,{Z:function(){return c}});var n=i(9439),r=i(2791),a=i(184);function c(e){var t,i,c,s,o=e.paginationDetails,d=e.onPrevPage,l=e.onNextPage,u=e.onPageNum,v=(0,r.useState)(null==o?1:null===o||void 0===o?void 0:o.pageNum),_=(0,n.Z)(v,2),m=_[0],p=_[1];if(null!=o){t=null===o||void 0===o?void 0:o.totalItems,i=null===o||void 0===o?void 0:o.itemsPerPage,c=[],s=Math.ceil(t/i);for(var g=function(e){c.push((0,a.jsx)("div",{className:"pagination__numberButtons ".concat(m===e+1?"active":""),onClick:function(){return p(t=e+1),void u(t);var t},children:e+1},e+1))},N=0;N<s;N++)g(N)}return null!=(null===o||void 0===o?void 0:o.pageNum)?(0,a.jsxs)("div",{className:"pagination",children:[(0,a.jsx)("div",{className:"pagination__previousButton",onClick:function(){var e=m;1===m?p(e=s):(--e,p(e)),d(e)},children:"<"}),c,(0,a.jsx)("div",{className:"pagination__nextButton",onClick:function(){var e=m;m===s?p(e=1):(++e,p(e)),l(e)},children:">"})]}):""}},7988:function(e,t,i){i.r(t),i.d(t,{default:function(){return g}});var n=i(9439),r=i(2791),a=i(7689),c=i(9434),s=i(2953),o=i(4448),d=i(6355),l=i(3402),u=i(8303),v=i(184);function _(e){var t=e.reviewDetails,i=[];if(null!=t)for(var n=0;n<t.reviewRating;n++)i.push((0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"},n+1));return(0,v.jsxs)("div",{className:"reviewUser",children:[(0,v.jsx)("div",{className:"reviewUser__imageBox",children:(0,v.jsx)("img",{src:null===t||void 0===t?void 0:t.reviewUserProfileImage,alt:"user",className:"reviewUser__image"})}),(0,v.jsxs)("div",{className:"reviewUser__info",children:[(0,v.jsx)("div",{className:"reviewUser__name",children:null===t||void 0===t?void 0:t.reviewUserName}),(0,v.jsx)("div",{className:"reviewUser__rating",children:i}),(0,v.jsx)("div",{className:"reviewUser__title",children:null===t||void 0===t?void 0:t.reviewTitle}),(0,v.jsx)("div",{className:"reviewUser__description",children:null===t||void 0===t?void 0:t.reviewDescription})]})]})}var m=i(8897);function p(e){var t,i,a,o=e.productId,l=(0,r.useRef)();var u=(0,r.useState)(""),p=(0,n.Z)(u,2),g=p[0],N=p[1],x=(0,r.useState)(""),f=(0,n.Z)(x,2),j=f[0],h=f[1],w=(0,r.useState)(0),I=(0,n.Z)(w,2),S=I[0],C=I[1],R=(0,c.I0)(),k=(0,c.v9)((function(e){return e.product})),P=k.reviewsDetails,B=k.validationError,D=(0,r.useRef)(!0);return(0,r.useEffect)((function(){if(!0===D.current)return R((0,s.k5)({productId:o,query:"page=1"})),function(){D.current=!1}}),[R,o]),(0,v.jsxs)("div",{className:"review",children:[(0,v.jsx)("button",{className:"review__toggleReviewFormButton",onClick:function(){l.current.classList.toggle("active")},children:"Give Review"}),(0,v.jsxs)("div",{ref:l,className:"review__addReviewFormConatiner",children:[(0,v.jsx)("div",{className:"review__addReviewFormHeading",children:"Give Review"}),(0,v.jsxs)("form",{className:"review__addReviewForm",onSubmit:function(e){return function(e){e.preventDefault(),R((0,s.d$)({productId:o,reviewData:{title:g,description:j,rating:S}}))}(e)},children:[(0,v.jsxs)("fieldset",{className:"review__fieldset",children:[(0,v.jsx)("legend",{className:"review__fieldsetTitle",children:"Your Rating"}),(0,v.jsxs)("div",{className:"review__ratingButtons",children:[(0,v.jsxs)("div",{className:"review__ratingButton ".concat(5===S?"active":""),onClick:function(){return C(5)},children:[(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsxs)("div",{className:"review__ratingButton ".concat(4===S?"active":""),onClick:function(){return C(4)},children:[(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsxs)("div",{className:"review__ratingButton ".concat(3===S?"active":""),onClick:function(){return C(3)},children:[(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsxs)("div",{className:"review__ratingButton ".concat(2===S?"active":""),onClick:function(){return C(2)},children:[(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"}),(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"})]}),(0,v.jsx)("div",{className:"review__ratingButton ".concat(1===S?"active":""),onClick:function(){return C(1)},children:(0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"})})]}),(0,v.jsx)("span",{className:"review__addReviewFormError",children:null===B||void 0===B?void 0:B.rating})]}),(0,v.jsxs)("fieldset",{className:"review__fieldset",children:[(0,v.jsx)("legend",{className:"review__fieldsetTitle",children:"Review Title"}),(0,v.jsx)("input",{type:"text",className:"review__ratingTitle",value:g,onChange:function(e){return N(e.target.value)},placeholder:"e.g:- Product Title"}),(0,v.jsx)("span",{className:"review__addReviewFormError",children:null===B||void 0===B?void 0:B.title})]}),(0,v.jsxs)("fieldset",{className:"review__fieldset",children:[(0,v.jsx)("legend",{className:"review__fieldsetTitle",children:"Review Description"}),(0,v.jsx)("textarea",{className:"review__ratingDescription",value:j,onChange:function(e){return h(e.target.value)},placeholder:"e.g:- Product Description"}),(0,v.jsx)("span",{className:"review__addReviewFormError",children:null===B||void 0===B?void 0:B.description})]}),(0,v.jsx)("button",{className:"review__addReviewFormButton",children:"Add Review"})]})]}),(0,v.jsx)("div",{className:"review__heading",children:"Product Reviews"}),(0,v.jsx)("div",{className:"review__list",children:null!=(null===P||void 0===P?void 0:P.reviews)?null===P||void 0===P?void 0:P.reviews.map((function(e){return(0,v.jsx)(_,{reviewDetails:e},null===e||void 0===e?void 0:e.reviewId)})):(0,v.jsx)("div",{className:"review__noReviewsYet",children:"No Reviews Yet!"})}),null!=(null===P||void 0===P?void 0:P.reviewsPagination)?(0,v.jsx)(m.Z,{paginationDetails:{pageNum:null===P||void 0===P||null===(t=P.reviewsPagination)||void 0===t?void 0:t.pageNum,totalItems:null===P||void 0===P||null===(i=P.reviewsPagination)||void 0===i?void 0:i.totalReviews,itemsPerPage:null===P||void 0===P||null===(a=P.reviewsPagination)||void 0===a?void 0:a.reviewsPerPage},onPrevPage:function(e){R((0,s.k5)({productId:o,query:"page=".concat(e)}))},onNextPage:function(e){R((0,s.k5)({productId:o,query:"page=".concat(e)}))},onPageNum:function(e){R((0,s.k5)({productId:o,query:"page=".concat(e)}))}}):""]})}function g(){var e,t,i=(0,a.TH)().state,_=(0,a.s0)(),m=null===i||void 0===i?void 0:i.productId,g=(0,r.useState)(0),N=(0,n.Z)(g,2),x=N[0],f=N[1],j=(0,c.I0)(),h=(0,c.v9)((function(e){return e.user})),w=h.isAuthenticated,I=h.user,S=(0,c.v9)((function(e){return e.product})),C=S.productDetails,R=(0,c.v9)((function(e){return e.cart})),k=R.isLoading,P=(0,r.useState)(1),B=(0,n.Z)(P,2),D=B[0],J=B[1],Q=[],b=null===C||void 0===C?void 0:C.productPrice;if(null!=C){e=null===C||void 0===C?void 0:C.productRating.toString().split(".");for(var T=0;T<Number(e[0]);T++)Q.push((0,v.jsx)(d.QJe,{className:"product__ratingStarIcon"},T+1));Number(e[1])>0&&Q.push((0,v.jsx)(d.TtB,{className:"product__ratingStarIcon"},Q.length+1)),null!=(null===C||void 0===C?void 0:C.productImages)&&(t=(t=JSON.parse(null===C||void 0===C?void 0:C.productImages)).map((function(e,t){return(0,v.jsx)("img",{className:"product__image ".concat(x===t?"active":""),src:e,alt:"product"},t)})))}var y=(0,r.useRef)(!0);return(0,r.useEffect)((function(){if(!0===y.current)return j((0,s.hY)({productId:m,query:"page=1"})),function(){y.current=!1}}),[j,m]),(0,v.jsxs)("div",{className:"product",children:[(0,v.jsxs)("div",{className:"product__imageBox",children:[null!=t?t:"",(0,v.jsx)("button",{className:"product__changeImageButton product__prevImageButton",onClick:function(){f((function(e){return 0===e?2:e-1}))},children:"<"}),(0,v.jsx)("button",{className:"product__changeImageButton product__nextImageButton",onClick:function(){f((function(e){return 2===e?0:e+1}))},children:">"})]}),(0,v.jsxs)("div",{className:"product__info",children:[(0,v.jsx)("div",{className:"product__category",children:null===C||void 0===C?void 0:C.productCategory}),(0,v.jsx)("div",{className:"product__name",children:null===C||void 0===C?void 0:C.productName}),(0,v.jsx)("div",{className:"product__price",children:(0,u.Z)(b)}),(0,v.jsxs)("fieldset",{className:"product__fieldset",children:[(0,v.jsx)("legend",{className:"product__fieldsetTitle",children:"Rating"}),0!==Q.length?Q:(0,v.jsx)("div",{className:"product__noRatingsYet",children:"No Ratings Yet!"})]}),(0,v.jsxs)("fieldset",{className:"product__fieldset",children:[(0,v.jsx)("legend",{className:"product__fieldsetTitle",children:"Description"}),null===C||void 0===C?void 0:C.productDescription]}),(0,v.jsxs)("div",{className:"product__cart",children:[(0,v.jsxs)("div",{className:"product__cartCounter",children:[(0,v.jsx)("button",{className:"product__cartCountButton",onClick:function(){return J(1===D?1:D-1)},children:"-"}),(0,v.jsx)("span",{className:"product__cartCount",children:D}),(0,v.jsx)("button",{className:"product__cartCountButton",onClick:function(){var e=!1;J((function(t){return t<C.productStock?t+1:(e=!0,t)})),!0===e&&(l.Am.dismiss(),(0,l.Am)("Only ".concat(D," in stock"),{icon:"\u26a0\ufe0f"}))},children:"+"})]}),(0,v.jsx)("button",{className:"product__addToCartButton",disabled:k,onClick:function(){var e={productId:m,productName:C.productName,productImage:JSON.parse(C.productImages)[0],productPrice:b,productStock:C.productStock,productQuantity:D,productTotalPrice:b*D,productAddedToCartDate:Date.now(),productDeliveryDate:Date.now()+6048e5};j((0,o.RV)(e))},children:"Add To Cart"})]}),w&&"admin"===(null===I||void 0===I?void 0:I.role)?(0,v.jsx)("button",{className:"product__updateProductButton",onClick:function(){_("/updateproduct/".concat(m),{state:{productDetails:C}})},children:"Update"}):""]}),(0,v.jsx)(p,{productId:m})]})}},8303:function(e,t,i){function n(e){return new Intl.NumberFormat("hi-in",{currency:"INR",style:"currency"}).format(e)}i.d(t,{Z:function(){return n}})}}]);
//# sourceMappingURL=988.b9c9f84f.chunk.js.map