{"version":3,"file":"static/js/424.544e4161.chunk.js","mappings":"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","sources":["components/profile/Profile.jsx"],"sourcesContent":["import \"./Profile.css\";\r\nimport { useState, useEffect, useRef } from \"react\";\r\nimport { Navigate, useLocation } from \"react-router-dom\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { FaUserCircle } from \"react-icons/fa\";\r\nimport {\r\n  updateUser,\r\n  checkUserAuthentication,\r\n} from \"../../redux/slices/userSlice\";\r\n\r\nexport default function Profile() {\r\n  const shouldMakeGetProfileCall = useRef(true);\r\n  const dispatch = useDispatch();\r\n  const { state } = useLocation();\r\n\r\n  const userDetails = state?.userDetails;\r\n\r\n  const { isAuthenticated, isLoading, validationError, user } = useSelector(\r\n    (state) => state.user\r\n  );\r\n\r\n  let userData = {};\r\n\r\n  if (userDetails != null) {\r\n    userData = userDetails;\r\n  } else {\r\n    userData = user;\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (shouldMakeGetProfileCall.current === true) {\r\n      dispatch(checkUserAuthentication());\r\n\r\n      return () => {\r\n        shouldMakeGetProfileCall.current = false;\r\n      };\r\n    }\r\n  }, [dispatch]);\r\n\r\n  const [username, setUsername] = useState(userData?.name);\r\n  const [email, setEmail] = useState(userData?.email);\r\n  const [profileImage, setProfileImage] = useState(userData?.profileImage);\r\n\r\n  if (!isAuthenticated && !isLoading) return <Navigate to=\"/\" />;\r\n\r\n  function update(e) {\r\n    e.preventDefault();\r\n    dispatch(\r\n      updateUser({\r\n        userId: userData?.userId,\r\n        username,\r\n        email,\r\n        profileImage,\r\n      })\r\n    );\r\n  }\r\n\r\n  let profileImageDisplay;\r\n\r\n  if (userData?.profileImage == null) {\r\n    profileImageDisplay = <FaUserCircle className=\"profile__imagePreview\" />;\r\n  } else if (typeof userData?.profileImage === \"string\") {\r\n    profileImageDisplay = userData?.profileImage;\r\n  }\r\n\r\n  if (typeof profileImage === \"object\") {\r\n    profileImageDisplay = URL.createObjectURL(profileImage);\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <h3 className=\"profile__heading\">My Profile</h3>\r\n      <form onSubmit={(e) => update(e)} className=\"profile__form\">\r\n        <div className=\"profile__formField profile__image\">\r\n          <label className=\"profile__formLabel\" htmlFor=\"profileImage\">\r\n            Profile Picture\r\n          </label>\r\n          <div className=\"profile__imagePreviewContainer\">\r\n            <img\r\n              className=\"profile__imagePreview\"\r\n              src={profileImageDisplay}\r\n              alt=\"profile\"\r\n            />\r\n          </div>\r\n          <span className=\"profile__formError\">\r\n            {validationError?.profileImage}\r\n          </span>\r\n          <input\r\n            className=\"profile__formInput profile__imageInput\"\r\n            type=\"file\"\r\n            id=\"profileImage\"\r\n            onChange={(e) => setProfileImage(e.target.files[0])}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__formField\">\r\n            <label className=\"profile__formLabel\" htmlFor=\"username\">\r\n              Username\r\n            </label>\r\n            <input\r\n              className=\"profile__formInput\"\r\n              type=\"text\"\r\n              id=\"username\"\r\n              placeholder=\"Jordan\"\r\n              value={username}\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n            <span className=\"profile__formError\">\r\n              {validationError?.username}\r\n            </span>\r\n          </div>\r\n          <div className=\"profile__formField\">\r\n            <label className=\"profile__formLabel\" htmlFor=\"email\">\r\n              Email\r\n            </label>\r\n            <input\r\n              className=\"profile__formInput\"\r\n              type=\"text\"\r\n              id=\"email\"\r\n              placeholder=\"jordan@gmail.com\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <span className=\"profile__formError\">{validationError?.email}</span>\r\n          </div>\r\n        </div>\r\n        <button\r\n          className=\"profile__formButton\"\r\n          type=\"submit\"\r\n          disabled={isLoading}\r\n        >\r\n          Update Profile\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["Profile","_userData","_userData2","_userData3","_userData5","_userData6","shouldMakeGetProfileCall","useRef","dispatch","useDispatch","state","useLocation","userDetails","_useSelector","useSelector","user","isAuthenticated","isLoading","validationError","userData","useEffect","current","checkUserAuthentication","profileImageDisplay","_useState","useState","name","_useState2","_slicedToArray","username","setUsername","_useState3","email","_useState4","setEmail","_useState5","profileImage","_useState6","setProfileImage","_jsx","Navigate","to","FaUserCircle","className","_userData7","URL","createObjectURL","_jsxs","children","onSubmit","e","_userData4","preventDefault","updateUser","userId","update","htmlFor","src","alt","type","id","onChange","target","files","placeholder","value","disabled"],"sourceRoot":""}