{"version":3,"file":"static/js/953.e2769bea.chunk.js","mappings":"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","sources":["components/placeOrder/PlaceOrder.jsx","utils/formatNumberAsPrice.js"],"sourcesContent":["import \"./PlaceOrder.css\";\r\nimport {\r\n  BsCreditCard2BackFill,\r\n  BsCalendar2EventFill,\r\n  BsKeyFill,\r\n} from \"react-icons/bs\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport {\r\n  placeOrderThunk,\r\n  processPayementThunk,\r\n} from \"../../redux/slices/orderSlice\";\r\n\r\nimport { clearCart } from \"../../redux/slices/cartSlice\";\r\n\r\nimport {\r\n  CardNumberElement,\r\n  CardCvcElement,\r\n  CardExpiryElement,\r\n  useStripe,\r\n  useElements,\r\n} from \"@stripe/react-stripe-js\";\r\nimport { Country, State } from \"country-state-city\";\r\n\r\nimport formatNumberAsPrice from \"../../utils/formatNumberAsPrice\";\r\n\r\nexport default function PlaceOrder() {\r\n  const [address, setAddress] = useState(\"\");\r\n  const [pinCode, setPinCode] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [state, setState] = useState(\"\");\r\n  const [country, setCountry] = useState(\"\");\r\n  const [mobile, setMobile] = useState(\"\");\r\n\r\n  const [showPaymentForm, setShowPaymentForm] = useState(false);\r\n\r\n  const dispatch = useDispatch();\r\n  const stripe = useStripe();\r\n  const elements = useElements();\r\n\r\n  const { isAuthenticated, user } = useSelector((state) => state.user);\r\n  const { validationError } = useSelector((state) => state.order);\r\n  const { isLoading, cartItemsCount, cartTotal } = useSelector(\r\n    (state) => state.cart\r\n  );\r\n\r\n  if (!isAuthenticated || cartItemsCount < 1) return <Navigate to=\"/\" />;\r\n\r\n  function proceedToPayment(e) {\r\n    e.preventDefault();\r\n\r\n    dispatch(\r\n      placeOrderThunk({\r\n        address,\r\n        pinCode,\r\n        city,\r\n        state,\r\n        country,\r\n        mobile,\r\n        setShowPaymentForm,\r\n      })\r\n    );\r\n  }\r\n\r\n  function processPayment(e) {\r\n    e.preventDefault();\r\n\r\n    dispatch(\r\n      processPayementThunk({\r\n        paymentDetails: {\r\n          stripe,\r\n          elements,\r\n          CardNumberElement,\r\n          amount: cartTotal,\r\n        },\r\n        billingDetails: {\r\n          name: user.name,\r\n          email: user.email,\r\n          address,\r\n          pinCode,\r\n          city,\r\n          state,\r\n          country,\r\n          mobile,\r\n        },\r\n        clearCartOnOrderComplete,\r\n      })\r\n    );\r\n  }\r\n\r\n  function clearCartOnOrderComplete() {\r\n    dispatch(clearCart());\r\n  }\r\n\r\n  return (\r\n    <div className=\"placeOrder\">\r\n      <div className=\"placeOrder__formContainer\">\r\n        <h3 className=\"placeOrder__formHeading\">Shipment Details</h3>\r\n        <form\r\n          className=\"placeOrder__form\"\r\n          onSubmit={(e) => proceedToPayment(e)}\r\n        >\r\n          <div className=\"placeOrder__formField\">\r\n            <label htmlFor=\"address\" className=\"placeOrder__formLabel\">\r\n              Address\r\n            </label>\r\n            <textarea\r\n              id=\"address\"\r\n              className=\"placeOrder__formInput\"\r\n              placeholder=\"Enter address\"\r\n              value={address}\r\n              onChange={(e) => setAddress(e.target.value)}\r\n            ></textarea>\r\n            <span className=\"placeOrder__formError\">\r\n              {validationError?.address}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"placeOrder__formField\">\r\n            <label htmlFor=\"pincode\" className=\"placeOrder__formLabel\">\r\n              Pincode\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"pincode\"\r\n              className=\"placeOrder__formInput\"\r\n              placeholder=\"e.g:- 123456\"\r\n              value={pinCode}\r\n              onChange={(e) => setPinCode(e.target.value)}\r\n            />\r\n            <span className=\"placeOrder__formError\">\r\n              {validationError?.pinCode}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"placeOrder__formField\">\r\n            <label htmlFor=\"city\" className=\"placeOrder__formLabel\">\r\n              City\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"city\"\r\n              className=\"placeOrder__formInput\"\r\n              placeholder=\"e.g:- Varanasi\"\r\n              value={city}\r\n              onChange={(e) => setCity(e.target.value)}\r\n            />\r\n            <span className=\"placeOrder__formError\">\r\n              {validationError?.city}\r\n            </span>\r\n          </div>\r\n\r\n          <div className=\"placeOrder__formField\">\r\n            <label htmlFor=\"country\" className=\"placeOrder__formLabel\">\r\n              Country\r\n            </label>\r\n            <select\r\n              className=\"placeOrder__formSelect\"\r\n              id=\"country\"\r\n              value={country}\r\n              onChange={(e) => setCountry(e.target.value)}\r\n            >\r\n              <option className=\"placeOrder__formOption\" value=\"\">\r\n                Country\r\n              </option>\r\n              {Country.getAllCountries().map((country) => (\r\n                <option\r\n                  className=\"placeOrder__formOption\"\r\n                  key={country.isoCode}\r\n                  value={country.isoCode}\r\n                >\r\n                  {country.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <span className=\"placeOrder__formError\">\r\n              {validationError?.country}\r\n            </span>\r\n          </div>\r\n\r\n          {country !== \"\" ? (\r\n            <div className=\"placeOrder__formField\">\r\n              <label htmlFor=\"state\" className=\"placeOrder__formLabel\">\r\n                State\r\n              </label>\r\n              <select\r\n                className=\"placeOrder__formSelect\"\r\n                id=\"state\"\r\n                value={state}\r\n                onChange={(e) => setState(e.target.value)}\r\n              >\r\n                <option className=\"placeOrder__formOption\" value=\"\">\r\n                  State\r\n                </option>\r\n                {State.getStatesOfCountry(country).map((state) => (\r\n                  <option\r\n                    className=\"placeOrder__formOption\"\r\n                    key={state.isoCode}\r\n                    value={state.isoCode}\r\n                  >\r\n                    {state.name}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              <span className=\"placeOrder__formError\">\r\n                {validationError?.state}\r\n              </span>\r\n            </div>\r\n          ) : (\r\n            \"\"\r\n          )}\r\n\r\n          <div className=\"placeOrder__formField\">\r\n            <label htmlFor=\"mobile\" className=\"placeOrder__formLabel\">\r\n              Mobile\r\n            </label>\r\n            <input\r\n              type=\"number\"\r\n              id=\"mobile\"\r\n              className=\"placeOrder__formInput\"\r\n              placeholder=\"e.g:- 1234567890\"\r\n              value={mobile}\r\n              onChange={(e) => setMobile(e.target.value)}\r\n            />\r\n            <span className=\"placeOrder__formError\">\r\n              {validationError?.mobile}\r\n            </span>\r\n          </div>\r\n\r\n          <button\r\n            className=\"placeOrder__formButton\"\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n          >\r\n            Proceed To Payment\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      <div\r\n        className={`placeOrder__formContainer paymentForm ${\r\n          showPaymentForm ? \"active\" : \"\"\r\n        }`}\r\n      >\r\n        <h3 className=\"placeOrder__formHeading\">Payment Details</h3>\r\n        <form className=\"placeOrder__form\" onSubmit={(e) => processPayment(e)}>\r\n          <div className=\"placeOrder__formField\">\r\n            <label htmlFor=\"cardNumber\" className=\"placeOrder__formLabel\">\r\n              Card Number\r\n              <BsCreditCard2BackFill className=\"placeOrder__formLabelIcon\" />\r\n            </label>\r\n            <CardNumberElement\r\n              id=\"cardNumber\"\r\n              className=\"placeOrder__formInput\"\r\n            />\r\n            <span className=\"placeOrder__formError\"></span>\r\n          </div>\r\n\r\n          <div className=\"placeOrder__formField paymentForm\">\r\n            <label htmlFor=\"cardExpiry\" className=\"placeOrder__formLabel\">\r\n              Expiry\r\n              <BsCalendar2EventFill className=\"placeOrder__formLabelIcon\" />\r\n            </label>\r\n            <CardExpiryElement\r\n              id=\"cardExpiry\"\r\n              className=\"placeOrder__formInput\"\r\n            />\r\n            <span className=\"placeOrder__formError\"></span>\r\n          </div>\r\n\r\n          <div className=\"placeOrder__formField\">\r\n            <label htmlFor=\"cardCVC\" className=\"placeOrder__formLabel\">\r\n              CVC <BsKeyFill className=\"placeOrder__formLabelIcon\" />\r\n            </label>\r\n            <CardCvcElement id=\"cardCVC\" className=\"placeOrder__formInput\" />\r\n            <span className=\"placeOrder__formError\"></span>\r\n          </div>\r\n\r\n          <div className=\"placeOrder__total\">\r\n            Total:- {formatNumberAsPrice(cartTotal)}\r\n          </div>\r\n\r\n          <button className=\"placeOrder__formButton\" type=\"submit\">\r\n            Pay Now\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export default function formatNumberAsPrice(number) {\r\n  const priceFormatter = new Intl.NumberFormat(\"hi-in\", {\r\n    currency: \"INR\",\r\n    style: \"currency\",\r\n  });\r\n\r\n  return priceFormatter.format(number);\r\n}\r\n"],"names":["PlaceOrder","_useState","useState","_useState2","_slicedToArray","address","setAddress","_useState3","_useState4","pinCode","setPinCode","_useState5","_useState6","city","setCity","_useState7","_useState8","state","setState","_useState9","_useState10","country","setCountry","_useState11","_useState12","mobile","setMobile","_useState13","_useState14","showPaymentForm","setShowPaymentForm","dispatch","useDispatch","stripe","useStripe","elements","useElements","_useSelector","useSelector","user","isAuthenticated","_useSelector2","order","validationError","_useSelector3","cart","isLoading","cartItemsCount","cartTotal","_jsx","Navigate","to","clearCartOnOrderComplete","clearCart","_jsxs","className","children","onSubmit","e","preventDefault","placeOrderThunk","proceedToPayment","htmlFor","id","placeholder","value","onChange","target","type","Country","getAllCountries","map","isoCode","name","State","disabled","concat","processPayementThunk","paymentDetails","CardNumberElement","amount","billingDetails","email","processPayment","BsCreditCard2BackFill","BsCalendar2EventFill","CardExpiryElement","BsKeyFill","CardCvcElement","formatNumberAsPrice","number","Intl","NumberFormat","currency","style","format"],"sourceRoot":""}